{"ast":null,"code":"import _regeneratorRuntime from\"/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{SET_HEAT_FARM,GET_HEAT_FARM_ERROR,GET_IMAGE_LINK,GET_IMAGE_LINK_ERROR}from\"./types\";// import { Result } from \"antd\";\nexport var getHeatMapData=function getHeatMapData(aoi,indices,farmId,farm,token){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(process.env.REACT_APP_GIS_URL,\"/gis/images\"),{\"aoi\":aoi,\"indices\":indices,\"farmId\":farmId}// {\n//   headers: {\n//     Authorization: `Bearer ${token} ${farm.userId}`,\n//   }\n// }\n);case 3:res=_context.sent;// console.log(\"Here on api heatmap-- \",aoi,indices,farmId);\ndispatch({type:SET_HEAT_FARM,payload:{data:res.data,farmId:farmId}});return _context.abrupt(\"return\",res.data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);dispatch({type:GET_HEAT_FARM_ERROR,payload:{msg:_context.t0.response}});return _context.abrupt(\"return\",_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getLinkForImage=function getLinkForImage(image,userId,token){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"\".concat(process.env.REACT_APP_GIS_URL,\"/gis/image\"),{\"image\":image}// {\n//   headers: {\n//     Authorization: `Bearer ${token} ${farm.userId}`,\n//   }\n// }\n);case 3:res=_context2.sent;dispatch({type:GET_IMAGE_LINK,payload:res.data});return _context2.abrupt(\"return\",res.data);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);dispatch({type:GET_IMAGE_LINK_ERROR,payload:{msg:_context2.t0.response}});return _context2.abrupt(\"return\",_context2.t0);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/src/actions/heatmap.js"],"names":["axios","SET_HEAT_FARM","GET_HEAT_FARM_ERROR","GET_IMAGE_LINK","GET_IMAGE_LINK_ERROR","getHeatMapData","aoi","indices","farmId","farm","token","dispatch","post","process","env","REACT_APP_GIS_URL","res","type","payload","data","msg","response","getLinkForImage","image","userId"],"mappings":"mVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,aAAT,CAAwBC,mBAAxB,CAA6CC,cAA7C,CAA6DC,oBAA7D,KAAwF,SAAxF,CACA;AAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,GAAD,CAAMC,OAAN,CAAeC,MAAf,CAAuBC,IAAvB,CAA6BC,KAA7B,iGAAuC,iBAAOC,QAAP,gKAE7CX,CAAAA,KAAK,CAACY,IAAN,WAAcC,OAAO,CAACC,GAAR,CAAYC,iBAA1B,gBAAyD,CACzE,MAAOT,GADkE,CAEzE,UAAWC,OAF8D,CAGzE,SAAUC,MAH+D,CAK3E;AACA;AACA;AACA;AACA;AATkB,CAF6C,QAEzDQ,GAFyD,eAa/D;AACAL,QAAQ,CAAC,CACPM,IAAI,CAAEhB,aADC,CAEPiB,OAAO,CAAE,CACPC,IAAI,CAAEH,GAAG,CAACG,IADH,CAEPX,MAAM,CAAEA,MAFD,CAFF,CAAD,CAAR,CAd+D,gCAqBxDQ,GAAG,CAACG,IArBoD,0DAwB/DR,QAAQ,CAAC,CACPM,IAAI,CAAEf,mBADC,CAEPgB,OAAO,CAAG,CAACE,GAAG,CAAE,YAAIC,QAAV,CAFH,CAAD,CAAR,CAxB+D,iHAAvC,gEAAvB,CAgCP,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAQC,MAAR,CAAgBd,KAAhB,kGAA0B,kBAAOC,QAAP,sKAEjCX,CAAAA,KAAK,CAACY,IAAN,WAAcC,OAAO,CAACC,GAAR,CAAYC,iBAA1B,eAAwD,CACxE,QAASQ,KAD+D,CAG1E;AACA;AACA;AACA;AACA;AAPkB,CAFiC,QAE7CP,GAF6C,gBAWnDL,QAAQ,CAAC,CACPM,IAAI,CAAEd,cADC,CAEPe,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAXmD,iCAe5CH,GAAG,CAACG,IAfwC,6DAkBnDR,QAAQ,CAAC,CACPM,IAAI,CAAEb,oBADC,CAEPc,OAAO,CAAG,CAACE,GAAG,CAAE,aAAIC,QAAV,CAFH,CAAD,CAAR,CAlBmD,qHAA1B,kEAAxB","sourcesContent":["import axios from \"axios\";\n\nimport { SET_HEAT_FARM, GET_HEAT_FARM_ERROR, GET_IMAGE_LINK, GET_IMAGE_LINK_ERROR} from \"./types\";\n// import { Result } from \"antd\";\n\nexport const getHeatMapData = (aoi, indices, farmId, farm, token) => async (dispatch) => {\n    try{\n      const res = await axios.post(`${process.env.REACT_APP_GIS_URL}/gis/images`,{\n        \"aoi\": aoi,\n        \"indices\": indices,\n        \"farmId\": farmId\n      },\n      // {\n      //   headers: {\n      //     Authorization: `Bearer ${token} ${farm.userId}`,\n      //   }\n      // }\n      );\n      // console.log(\"Here on api heatmap-- \",aoi,indices,farmId);\n      dispatch({\n        type: SET_HEAT_FARM,\n        payload: {\n          data: res.data,\n          farmId: farmId\n        }\n      });\n      return res.data;\n    }\n    catch (err) {\n      dispatch({\n        type: GET_HEAT_FARM_ERROR,\n        payload:  {msg: err.response}\n      });\n      return err;\n    }\n  };\n  \nexport const getLinkForImage = (image, userId, token) => async (dispatch) => {\n    try{\n      const res = await axios.post(`${process.env.REACT_APP_GIS_URL}/gis/image`,{\n        \"image\": image\n      },\n      // {\n      //   headers: {\n      //     Authorization: `Bearer ${token} ${farm.userId}`,\n      //   }\n      // }\n      );\n      dispatch({\n        type: GET_IMAGE_LINK,\n        payload: res.data\n      });\n      return res.data;\n    }\n    catch (err) {\n      dispatch({\n        type: GET_IMAGE_LINK_ERROR,\n        payload:  {msg: err.response}\n      });\n      return err;\n    }\n  };"]},"metadata":{},"sourceType":"module"}