{"ast":null,"code":"import axios from \"axios\";\nimport { SET_HEAT_FARM, GET_HEAT_FARM_ERROR, GET_IMAGE_LINK, GET_IMAGE_LINK_ERROR } from \"./types\"; // import { Result } from \"antd\";\n\nexport const getHeatMapData = (aoi, indices, farmId, farm, token) => async dispatch => {\n  try {\n    const res = await axios.post(`${process.env.REACT_APP_GIS_URL}/gis/images`, {\n      \"aoi\": aoi,\n      \"indices\": indices,\n      \"farmId\": farmId\n    } // {\n    //   headers: {\n    //     Authorization: `Bearer ${token} ${farm.userId}`,\n    //   }\n    // }\n    ); // console.log(\"Here on api heatmap-- \",aoi,indices,farmId);\n\n    dispatch({\n      type: SET_HEAT_FARM,\n      payload: {\n        data: res.data,\n        farmId: farmId\n      }\n    });\n    return res.data;\n  } catch (err) {\n    dispatch({\n      type: GET_HEAT_FARM_ERROR,\n      payload: {\n        msg: err.response\n      }\n    });\n    return err;\n  }\n};\nexport const getLinkForImage = (image, userId, token) => async dispatch => {\n  try {\n    const res = await axios.post(`${process.env.REACT_APP_GIS_URL}/gis/image`, {\n      \"image\": image\n    } // {\n    //   headers: {\n    //     Authorization: `Bearer ${token} ${farm.userId}`,\n    //   }\n    // }\n    );\n    dispatch({\n      type: GET_IMAGE_LINK,\n      payload: res.data\n    });\n    return res.data;\n  } catch (err) {\n    dispatch({\n      type: GET_IMAGE_LINK_ERROR,\n      payload: {\n        msg: err.response\n      }\n    });\n    return err;\n  }\n};","map":{"version":3,"sources":["/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/src/actions/heatmap.js"],"names":["axios","SET_HEAT_FARM","GET_HEAT_FARM_ERROR","GET_IMAGE_LINK","GET_IMAGE_LINK_ERROR","getHeatMapData","aoi","indices","farmId","farm","token","dispatch","res","post","process","env","REACT_APP_GIS_URL","type","payload","data","err","msg","response","getLinkForImage","image","userId"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,aAAT,EAAwBC,mBAAxB,EAA6CC,cAA7C,EAA6DC,oBAA7D,QAAwF,SAAxF,C,CACA;;AAEA,OAAO,MAAMC,cAAc,GAAG,CAACC,GAAD,EAAMC,OAAN,EAAeC,MAAf,EAAuBC,IAAvB,EAA6BC,KAA7B,KAAuC,MAAOC,QAAP,IAAoB;AACrF,MAAG;AACD,UAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,aAA5C,EAAyD;AACzE,aAAOV,GADkE;AAEzE,iBAAWC,OAF8D;AAGzE,gBAAUC;AAH+D,KAAzD,CAKlB;AACA;AACA;AACA;AACA;AATkB,KAAlB,CADC,CAYD;;AACAG,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEhB,aADC;AAEPiB,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAEP,GAAG,CAACO,IADH;AAEPX,QAAAA,MAAM,EAAEA;AAFD;AAFF,KAAD,CAAR;AAOA,WAAOI,GAAG,CAACO,IAAX;AACD,GArBD,CAsBA,OAAOC,GAAP,EAAY;AACVT,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEf,mBADC;AAEPgB,MAAAA,OAAO,EAAG;AAACG,QAAAA,GAAG,EAAED,GAAG,CAACE;AAAV;AAFH,KAAD,CAAR;AAIA,WAAOF,GAAP;AACD;AACF,CA9BI;AAgCP,OAAO,MAAMG,eAAe,GAAG,CAACC,KAAD,EAAQC,MAAR,EAAgBf,KAAhB,KAA0B,MAAOC,QAAP,IAAoB;AACzE,MAAG;AACD,UAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,YAA5C,EAAwD;AACxE,eAASQ;AAD+D,KAAxD,CAGlB;AACA;AACA;AACA;AACA;AAPkB,KAAlB;AASAb,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEd,cADC;AAEPe,MAAAA,OAAO,EAAEN,GAAG,CAACO;AAFN,KAAD,CAAR;AAIA,WAAOP,GAAG,CAACO,IAAX;AACD,GAfD,CAgBA,OAAOC,GAAP,EAAY;AACVT,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEb,oBADC;AAEPc,MAAAA,OAAO,EAAG;AAACG,QAAAA,GAAG,EAAED,GAAG,CAACE;AAAV;AAFH,KAAD,CAAR;AAIA,WAAOF,GAAP;AACD;AACF,CAxBI","sourcesContent":["import axios from \"axios\";\n\nimport { SET_HEAT_FARM, GET_HEAT_FARM_ERROR, GET_IMAGE_LINK, GET_IMAGE_LINK_ERROR} from \"./types\";\n// import { Result } from \"antd\";\n\nexport const getHeatMapData = (aoi, indices, farmId, farm, token) => async (dispatch) => {\n    try{\n      const res = await axios.post(`${process.env.REACT_APP_GIS_URL}/gis/images`,{\n        \"aoi\": aoi,\n        \"indices\": indices,\n        \"farmId\": farmId\n      },\n      // {\n      //   headers: {\n      //     Authorization: `Bearer ${token} ${farm.userId}`,\n      //   }\n      // }\n      );\n      // console.log(\"Here on api heatmap-- \",aoi,indices,farmId);\n      dispatch({\n        type: SET_HEAT_FARM,\n        payload: {\n          data: res.data,\n          farmId: farmId\n        }\n      });\n      return res.data;\n    }\n    catch (err) {\n      dispatch({\n        type: GET_HEAT_FARM_ERROR,\n        payload:  {msg: err.response}\n      });\n      return err;\n    }\n  };\n  \nexport const getLinkForImage = (image, userId, token) => async (dispatch) => {\n    try{\n      const res = await axios.post(`${process.env.REACT_APP_GIS_URL}/gis/image`,{\n        \"image\": image\n      },\n      // {\n      //   headers: {\n      //     Authorization: `Bearer ${token} ${farm.userId}`,\n      //   }\n      // }\n      );\n      dispatch({\n        type: GET_IMAGE_LINK,\n        payload: res.data\n      });\n      return res.data;\n    }\n    catch (err) {\n      dispatch({\n        type: GET_IMAGE_LINK_ERROR,\n        payload:  {msg: err.response}\n      });\n      return err;\n    }\n  };"]},"metadata":{},"sourceType":"module"}