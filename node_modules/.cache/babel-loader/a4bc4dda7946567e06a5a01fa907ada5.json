{"ast":null,"code":"import _regeneratorRuntime from\"/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{GET_WEATHER_DATA,GET_WEATHER_DATA_ERROE}from\"./types\";// import prepareWeatherData from \"../../utils/prepareWeatherData\";\n// Get weatherData for dashboard\n// export const getWeatherDataDB = () => async (dispatch) => {\n//   try {\n//     // const sensor = sensors.filter((sensor) => sensor.deviceId === id)[0];\n//     // const lat = sensor.location.latitude;\n//     // const lon = sensor.location.longitude;\n//     const lat = 66;\n//     const lon = 55;\n//     const res = await axios.get(\n//       `https://y9yaxzh357.execute-api.us-east-1.amazonaws.com/api/weather?lat=${lat}&lng=${lon}`\n//     );\n//     dispatch({\n//       type: GET_WEATHER_DATA_DASHBOARD,\n//       // payload: res.data,\n//       payload: { weatherData_DB: res.data },\n//     });\n//   } catch (err) {\n//     dispatch({\n//       type: GET_WEATHER_DATA_DASHBOARD_ERROR,\n//       // payload: { msg: err.response.statusText, status: err.response.status },\n//       payload: { msg: err.response },\n//     });\n//   }\n// };\n// Get weatherData for public Data\nexport var getWeatherData=function getWeatherData(lat,lon){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_WEATHER_API,\"?lat=\").concat(lat,\"&lng=\").concat(lon));case 3:res=_context.sent;//console.log(\"---////---Weather Data----/////------\");\n//console.log(res);\ndispatch({type:GET_WEATHER_DATA,payload:res.data// payload: { weatherData_sensor: res.data },\n});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:GET_WEATHER_DATA_ERROE,payload:_context.t0.response// payload: { msg: err.response.statusText, status: err.response.status },\n});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/src/actions/weather.js"],"names":["axios","GET_WEATHER_DATA","GET_WEATHER_DATA_ERROE","getWeatherData","lat","lon","dispatch","get","process","env","REACT_APP_WEATHER_API","res","type","payload","data","response"],"mappings":"mVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,gBAAT,CAA2BC,sBAA3B,KAAyD,SAAzD,CACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,GAAD,CAAMC,GAAN,iGAAc,iBAAOC,QAAP,gKAUtBN,CAAAA,KAAK,CAACO,GAAN,WACbC,OAAO,CAACC,GAAR,CAAYC,qBADC,iBAC4BN,GAD5B,iBACuCC,GADvC,EAVsB,QAUlCM,GAVkC,eAatC;AACA;AACFL,QAAQ,CAAC,CACPM,IAAI,CAAEX,gBADC,CAEPY,OAAO,CAAEF,GAAG,CAACG,IACb;AAHO,CAAD,CAAR,CAfwC,+EAqBxCR,QAAQ,CAAC,CACPM,IAAI,CAAEV,sBADC,CAEPW,OAAO,CAAE,YAAIE,QACb;AAHO,CAAD,CAAR,CArBwC,oEAAd,gEAAvB","sourcesContent":["import axios from \"axios\";\n\nimport { GET_WEATHER_DATA, GET_WEATHER_DATA_ERROE } from \"./types\";\n// import prepareWeatherData from \"../../utils/prepareWeatherData\";\n\n// Get weatherData for dashboard\n// export const getWeatherDataDB = () => async (dispatch) => {\n//   try {\n//     // const sensor = sensors.filter((sensor) => sensor.deviceId === id)[0];\n//     // const lat = sensor.location.latitude;\n//     // const lon = sensor.location.longitude;\n//     const lat = 66;\n//     const lon = 55;\n//     const res = await axios.get(\n//       `https://y9yaxzh357.execute-api.us-east-1.amazonaws.com/api/weather?lat=${lat}&lng=${lon}`\n//     );\n\n//     dispatch({\n//       type: GET_WEATHER_DATA_DASHBOARD,\n//       // payload: res.data,\n//       payload: { weatherData_DB: res.data },\n//     });\n//   } catch (err) {\n//     dispatch({\n//       type: GET_WEATHER_DATA_DASHBOARD_ERROR,\n//       // payload: { msg: err.response.statusText, status: err.response.status },\n//       payload: { msg: err.response },\n//     });\n//   }\n// };\n\n// Get weatherData for public Data\nexport const getWeatherData = (lat, lon) => async (dispatch) => {\n  try {\n    // const lat = 66;\n    // const lon = 55;\n    // https://y9yaxzh357.execute-api.us-east-1.amazonaws.com/api/weather?lat=${lat}&lng=${lon}\n    // http://localhost:5001/\n    // http://localhost:5001/weather/${lat}&${lon}\n    // const res = await axios.get(\n    //   `https://y9yaxzh357.execute-api.us-east-1.amazonaws.com/api/weather?lat=${lat}&lng=${lon}`\n    // );\n    const res = await axios.get(\n      `${process.env.REACT_APP_WEATHER_API}?lat=${lat}&lng=${lon}`\n    );\n      //console.log(\"---////---Weather Data----/////------\");\n      //console.log(res);\n    dispatch({\n      type: GET_WEATHER_DATA,\n      payload: res.data,\n      // payload: { weatherData_sensor: res.data },\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_WEATHER_DATA_ERROE,\n      payload: err.response,\n      // payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}