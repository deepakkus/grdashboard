{"ast":null,"code":"import _defineProperty from\"/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import TextField from\"@material-ui/core/TextField\";import MenuItem from\"@material-ui/core/MenuItem\";import{Modal,Button,Grid}from\"semantic-ui-react\";import Checkbox from\"@material-ui/core/Checkbox\";import FormControlLabel from\"@material-ui/core/FormControlLabel\";import{withTranslation}from\"react-i18next\";import{MuiThemeProvider,createMuiTheme}from\"@material-ui/core/styles\";import ActivityOption from\"../AddActivityForm/activityLists/activityOption\";import PlantseedActivity from\"../AddActivityForm/activityLists/plantseedactivity\";import IrrigationActivity from\"./activityLists/irrigationactivity\";import CropGrowthActivity from\"./activityLists/cropgrowthactivity\";import FertilizationActivity from\"./activityLists/fertilizationactivity\";import HarvestingActivity from\"./activityLists/harvestingactivity\";import StorageActivity from\"./activityLists/storageactivity\";import TransportationActivity from\"./activityLists/transportationactivity\";import MarketingActivity from\"./activityLists/marketingactivity\";// import './addcropform.scss';\n//import axios from 'axios';\nvar theme=createMuiTheme({palette:{primary:{light:\"#fff\",main:\"#67bc46\",dark:\"#000\"},secondary:{main:\"#1A960A\"}},typography:{useNextVariants:true},textField:{color:\"green\",\"&:hover\":{backgroundColor:\"green\"},\"&$focused\":{backgroundColor:\"green\",boxShadow:\"green 0.25 0 0 0 2px\",borderColor:\"green\"},minWidth:\"200px !important\"},checkbox:{color:\"green\",\"&$checked\":{color:\"green\"}}});var AddActivityForm=/*#__PURE__*/function(_Component){_inherits(AddActivityForm,_Component);var _super=_createSuper(AddActivityForm);function AddActivityForm(){var _this;_classCallCheck(this,AddActivityForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activityType:null,cc:null,errorMsg:false,// snackbarOpen: false,\nlogDate:null,description:null,confirmed:false,dateError:false};_this.handleActivityChange=function(e){_this.setState({activityType:e.target.value});};_this.handleCropCycleChange=function(e){_this.setState({cc:e.target.value});};_this.handleLogDateChange=function(e){_this.setState({logDate:e.target.value});};_this.handleDescriptionChange=function(e){_this.setState({description:e.target.value});};_this.handleSnackbarClose=function(){// if (reason === 'clickaway') {\n//     return;\n//   }\n_this.setstate({snackbarOpen:false});};_this.handleCheckBoxChange=function(){if(!_this.state.dateError){_this.setState({confirmed:true});}};_this.handleClose=function(){_this.props.changeDialogDisp();};_this.handleSubmit=function(){if(_this.state.confirmed){_this.props.changeDialogDisp();var activity={logDate:_this.state.logDate,cropCycleId:_this.state.cc,activityId:_this.state.activityType,description:_this.state.description};_this.props.onSubmit(activity);_this.setState({//snackbarOpen: false,\nactivityType:_this.props.activityTypes.length?_this.props.activityTypes[0]._id:\"\",cc:_this.props.currentCropCycles.length?_this.props.currentCropCycles[0]._id:\"\",description:\"\",logDate:\"\",confirmed:false});}else{_this.setState({errorMsg:true});}};_this.logDateValidation=function(date){console.log(\"in logDateVal\");if(_this.state.cc&&_this.props.currentCropCycles){var ccObject=_this.props.currentCropCycles.find(function(cropCycle){return cropCycle._id===_this.state.cc;});return date<ccObject.startDate||date>ccObject.endDate;}};return _this;}_createClass(AddActivityForm,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){var _this2=this;if(this.props.activityTypes.length&&!this.state.activityType){this.setState({activityType:this.props.activityTypes[0]._id});}if(this.props.currentCropCycles.length&&!this.state.cc){this.setState({cc:this.props.currentCropCycles[0]._id});}if(this.state.logDate&&this.props.currentCropCycles&&this.state.cc){var ccObject=this.props.currentCropCycles.find(function(cropCycle){return cropCycle._id===_this2.state.cc;});console.log(\"dateErrorUpdate ccObject is\",ccObject);if(this.state.logDate<ccObject.startDate||this.state.logDate>ccObject.endDate){if(this.state.dateError===false){this.setState({dateError:true,confirmed:false});}}if(this.state.logDate>ccObject.startDate&&this.state.logDate<ccObject.endDate&&this.state.dateError===true){this.setState({dateError:false});}}}},{key:\"render\",value:function render(){var _this3=this,_React$createElement;var t=this.props.t;var activityList=[\"Land Preparation\",\"Planting of seeds\",\"Irrigation\",\"Crop Growth\",\"Fertilization\",\"Harvesting\",\"Storage\",\"Transportation\",\"Marketing\"];return/*#__PURE__*/React.createElement(MuiThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(Modal,{open:this.props.open,onClose:this.handleClose,\"aria-labelledby\":\"form-dialog-title\",style:{position:\"relative\"}},/*#__PURE__*/React.createElement(Modal.Header,null,t(\"act-form-title\")),/*#__PURE__*/React.createElement(Modal.Content,null,/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(Grid.Row,{className:\"ml-0\"},/*#__PURE__*/React.createElement(Grid.Column,{width:8},/*#__PURE__*/React.createElement(TextField,{id:\"outlined-select-cc\",label:t(\"cc-label\"),select:true,fullWidth:true// className=\"mr-4 ml-4 mt-2 w-25\"\n,variant:\"outlined\",defaultValue:this.props.currentCropCycles[0]?this.props.currentCropCycles[0]._id:\"\",helperText:t(\"cc-helper\"),onChange:this.handleCropCycleChange,InputLabelProps:{shrink:true}},this.props.currentCropCycles?this.props.currentCropCycles.map(function(option){return/*#__PURE__*/React.createElement(MenuItem,{key:option._id,value:option._id},_this3.props.userFarms&&_this3.props.userFarms.find(function(farm){return option.farmId===farm._id;}).farmName);}):/*#__PURE__*/React.createElement(MenuItem,{disabled:true},t(\"empty-option\")))),/*#__PURE__*/React.createElement(Grid.Column,{width:4},/*#__PURE__*/React.createElement(TextField,{id:\"outlined-select-activity\",label:t(\"activity-label\"),select:true,fullWidth:true,defaultValue:\"\",onChange:this.handleActivityChange,variant:\"outlined\"// className=\"mr-4 ml-4 mt-2 w-25\"\n,helperText:t(\"activity-helper\"),InputLabelProps:{shrink:true}},activityList?activityList.map(function(item){return/*#__PURE__*/React.createElement(MenuItem,{key:item,value:item},item);}):/*#__PURE__*/React.createElement(MenuItem,{disabled:true},t(\"empty-option\")))),/*#__PURE__*/React.createElement(Grid.Column,{width:4},/*#__PURE__*/React.createElement(TextField,(_React$createElement={error:true,id:\"logdate\",fullWidth:true,label:t(\"log-date-label\"),type:\"date\"// className=\"mr-4 ml-4 mt-2 w-25\"\n// defaultValue={new Date()}\n,variant:\"outlined\"},_defineProperty(_React$createElement,\"error\",this.state.dateError),_defineProperty(_React$createElement,\"shouldDisableDate\",this.logDateValidation),_defineProperty(_React$createElement,\"onChange\",this.handleLogDateChange),_defineProperty(_React$createElement,\"helperText\",t(\"log-date-error\")),_defineProperty(_React$createElement,\"InputLabelProps\",{shrink:true}),_React$createElement)))),/*#__PURE__*/React.createElement(Grid.Row,{className:\"ml-0\"},/*#__PURE__*/React.createElement(Grid.Column,{className:\"px-5\"},this.state.activityType===\"Land Preparation\"?/*#__PURE__*/React.createElement(ActivityOption,null):this.state.activityType===\"Planting of seeds\"?/*#__PURE__*/React.createElement(PlantseedActivity,null):this.state.activityType===\"Irrigation\"?/*#__PURE__*/React.createElement(IrrigationActivity,null):this.state.activityType===\"Crop Growth\"?/*#__PURE__*/React.createElement(CropGrowthActivity,null):this.state.activityType===\"Fertilization\"?/*#__PURE__*/React.createElement(FertilizationActivity,null):this.state.activityType===\"Harvesting\"?/*#__PURE__*/React.createElement(HarvestingActivity,null):this.state.activityType===\"Storage\"?/*#__PURE__*/React.createElement(StorageActivity,null):this.state.activityType===\"Transportation\"?/*#__PURE__*/React.createElement(TransportationActivity,null):this.state.activityType===\"Marketing\"&&/*#__PURE__*/React.createElement(MarketingActivity,null))))),/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(Button,{onClick:this.handleClose,color:\"gray\"},t(\"cancel\")),/*#__PURE__*/React.createElement(Button,{onClick:this.handleSubmit,color:\"green\"},t(\"submit\")))));}}]);return AddActivityForm;}(Component);export default withTranslation(\"add-activity\")(AddActivityForm);{/* <Grid>\n              <Grid.Row>\n                <TextField\n                  id=\"outlined-select-activity\"\n                  label={t(\"activity-label\")}\n                  select\n                  defaultValue={\n                    this.props.activityTypes[0]\n                      ? this.props.activityTypes[0]._id\n                      : \"Select Activity\"\n                  }\n                  onChange={this.handleActivityChange}\n                  variant=\"outlined\"\n                  className=\"mr-4 ml-4 mt-2 w-25\"\n                  helperText={t(\"activity-helper\")}\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                >\n                  {this.props.activityTypes ? (\n                    this.props.activityTypes.map((option) => (\n                      <MenuItem key={option._id} value={option._id}>\n                        {option.name}\n                      </MenuItem>\n                    ))\n                  ) : (\n                    <MenuItem disabled>{t(\"empty-option\")}</MenuItem>\n                  )}\n                </TextField>\n                <TextField\n                  id=\"outlined-select-cc\"\n                  label={t(\"cc-label\")}\n                  select\n                  className=\"mr-4 ml-4 mt-2 w-25\"\n                  variant=\"outlined\"\n                  defaultValue={\n                    this.props.currentCropCycles[0]\n                      ? this.props.currentCropCycles[0]._id\n                      : \"\"\n                  }\n                  helperText={t(\"cc-helper\")}\n                  onChange={this.handleCropCycleChange}\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                >\n                  {this.props.currentCropCycles ? (\n                    this.props.currentCropCycles.map((option) => (\n                      <MenuItem key={option._id} value={option._id}>\n                        {this.props.userFarms &&\n                          this.props.userFarms.find(\n                            (farm) => option.farmId === farm._id\n                          ).farmName}\n                      </MenuItem>\n                    ))\n                  ) : (\n                    <MenuItem disabled>{t(\"empty-option\")}</MenuItem>\n                  )}\n                </TextField>\n              </Grid.Row>\n              <Grid.Row>\n                <TextField\n                  error\n                  id=\"logdate\"\n                  label={t(\"log-date-label\")}\n                  type=\"date\"\n                  className=\"mr-4 ml-4 mt-2 w-25\"\n                  // defaultValue={new Date()}\n                  variant=\"outlined\"\n                  error={this.state.dateError}\n                  shouldDisableDate={this.logDateValidation}\n                  onChange={this.handleLogDateChange}\n                  helperText={t(\"log-date-error\")}\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                />\n                <TextField\n                  id=\"outlined-description\"\n                  label={t(\"description-label\")}\n                  variant=\"outlined\"\n                  className=\"mr-4 ml-4 mt-2 w-25\"\n                  helperText={t(\"description-helper\")}\n                  onChange={this.handleDescriptionChange}\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                />\n                <FormControlLabel\n                  className=\"mr-4 ml-4 w-50\"\n                  control={\n                    <Checkbox\n                      checked={this.state.confirmed}\n                      onChange={this.handleCheckBoxChange}\n                      name=\"checked\"\n                    />\n                  }\n                  label={t(\"cc-form-checkbox\")}\n                />\n              </Grid.Row>\n              <Grid.Row>\n                {this.state.errorMsg ? (\n                  <p\n                    style={{\n                      position: \"absolute\",\n                      color: \"red\",\n                      left: \"25%\",\n                      right: \"25%\",\n                    }}\n                  >\n                    {\" \"}\n                    {t(\"ccuncheckederror\")}{\" \"}\n                  </p>\n                ) : (\n                  \"\"\n                )}\n              </Grid.Row>\n            </Grid> */}","map":{"version":3,"sources":["/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/src/components/AddActivityForm/AddActivityForm.js"],"names":["React","Component","TextField","MenuItem","Modal","Button","Grid","Checkbox","FormControlLabel","withTranslation","MuiThemeProvider","createMuiTheme","ActivityOption","PlantseedActivity","IrrigationActivity","CropGrowthActivity","FertilizationActivity","HarvestingActivity","StorageActivity","TransportationActivity","MarketingActivity","theme","palette","primary","light","main","dark","secondary","typography","useNextVariants","textField","color","backgroundColor","boxShadow","borderColor","minWidth","checkbox","AddActivityForm","state","activityType","cc","errorMsg","logDate","description","confirmed","dateError","handleActivityChange","e","setState","target","value","handleCropCycleChange","handleLogDateChange","handleDescriptionChange","handleSnackbarClose","setstate","snackbarOpen","handleCheckBoxChange","handleClose","props","changeDialogDisp","handleSubmit","activity","cropCycleId","activityId","onSubmit","activityTypes","length","_id","currentCropCycles","logDateValidation","date","console","log","ccObject","find","cropCycle","startDate","endDate","t","activityList","open","position","shrink","map","option","userFarms","farm","farmId","farmName","item"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { Modal, Button, Grid } from \"semantic-ui-react\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport { withTranslation } from \"react-i18next\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport ActivityOption from \"../AddActivityForm/activityLists/activityOption\"\nimport PlantseedActivity from \"../AddActivityForm/activityLists/plantseedactivity\"\nimport IrrigationActivity from \"./activityLists/irrigationactivity\";\nimport CropGrowthActivity from \"./activityLists/cropgrowthactivity\";\nimport FertilizationActivity from \"./activityLists/fertilizationactivity\";\nimport HarvestingActivity from \"./activityLists/harvestingactivity\";\nimport StorageActivity from \"./activityLists/storageactivity\";\nimport TransportationActivity from \"./activityLists/transportationactivity\";\nimport MarketingActivity from \"./activityLists/marketingactivity\";\n// import './addcropform.scss';\n//import axios from 'axios';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#fff\",\n      main: \"#67bc46\",\n      dark: \"#000\",\n    },\n    secondary: {\n      main: \"#1A960A\",\n    },\n  },\n  typography: {\n    useNextVariants: true,\n  },\n  textField: {\n    color: \"green\",\n    \"&:hover\": {\n      backgroundColor: \"green\",\n    },\n    \"&$focused\": {\n      backgroundColor: \"green\",\n      boxShadow: \"green 0.25 0 0 0 2px\",\n      borderColor: \"green\",\n    },\n    minWidth: \"200px !important\"\n  },\n  checkbox: {\n    color: \"green\",\n    \"&$checked\": {\n      color: \"green\",\n    },\n  },\n});\n\nclass AddActivityForm extends Component {\n  state = {\n    activityType: null,\n    cc: null,\n    errorMsg: false,\n    // snackbarOpen: false,\n    logDate: null,\n    description: null,\n    confirmed: false,\n    dateError: false,\n  };\n\n  \n  handleActivityChange = (e) => {\n    this.setState({ activityType: e.target.value });\n  };\n  \n  handleCropCycleChange = (e) => {\n    this.setState({ cc: e.target.value });\n  };\n  handleLogDateChange = (e) => {\n    this.setState({ logDate: e.target.value });\n  };\n  handleDescriptionChange = (e) => {\n    this.setState({ description: e.target.value });\n  };\n  handleSnackbarClose = () => {\n    // if (reason === 'clickaway') {\n    //     return;\n    //   }\n    this.setstate({ snackbarOpen: false });\n  };\n  handleCheckBoxChange = () => {\n    if (!this.state.dateError) {\n      this.setState({ confirmed: true });\n    }\n  };\n  handleClose = () => {\n    this.props.changeDialogDisp();\n  };\n  handleSubmit = () => {\n    if (this.state.confirmed) {\n      this.props.changeDialogDisp();\n      const activity = {\n        logDate: this.state.logDate,\n        cropCycleId: this.state.cc,\n        activityId: this.state.activityType,\n        description: this.state.description,\n      };\n      this.props.onSubmit(activity);\n      this.setState({\n        //snackbarOpen: false,\n        activityType: this.props.activityTypes.length\n          ? this.props.activityTypes[0]._id\n          : \"\",\n        cc: this.props.currentCropCycles.length\n          ? this.props.currentCropCycles[0]._id\n          : \"\",\n        description: \"\",\n        logDate: \"\",\n        confirmed: false,\n      });\n    } else {\n      this.setState({ errorMsg: true });\n    }\n  };\n\n  logDateValidation = (date) => {\n    console.log(\"in logDateVal\");\n    if (this.state.cc && this.props.currentCropCycles) {\n      const ccObject = this.props.currentCropCycles.find(\n        (cropCycle) => cropCycle._id === this.state.cc\n      );\n      return date < ccObject.startDate || date > ccObject.endDate;\n    }\n  };\n\n  componentDidUpdate() {\n    if (this.props.activityTypes.length && !this.state.activityType) {\n      this.setState({ activityType: this.props.activityTypes[0]._id });\n    }\n    if (this.props.currentCropCycles.length && !this.state.cc) {\n      this.setState({ cc: this.props.currentCropCycles[0]._id });\n    }\n    if (this.state.logDate && this.props.currentCropCycles && this.state.cc) {\n      const ccObject = this.props.currentCropCycles.find(\n        (cropCycle) => cropCycle._id === this.state.cc\n      );\n      console.log(\"dateErrorUpdate ccObject is\", ccObject);\n      if (\n        this.state.logDate < ccObject.startDate ||\n        this.state.logDate > ccObject.endDate\n      ) {\n        if (this.state.dateError === false) {\n          this.setState({ dateError: true, confirmed: false });\n        }\n      }\n      if (\n        this.state.logDate > ccObject.startDate &&\n        this.state.logDate < ccObject.endDate &&\n        this.state.dateError === true\n      ) {\n        this.setState({ dateError: false });\n      }\n    }\n  }\n\n  render() {\n    const { t } = this.props;\n    let activityList = [\"Land Preparation\", \"Planting of seeds\", \"Irrigation\", \"Crop Growth\", \"Fertilization\", \"Harvesting\", \"Storage\", \"Transportation\", \"Marketing\"]\n    return (\n      <MuiThemeProvider theme={theme}>\n\n        <Modal\n          open={this.props.open}\n          onClose={this.handleClose}\n          aria-labelledby=\"form-dialog-title\"\n          style = {{position : \"relative\"}}\n          \n        >\n          <Modal.Header>{t(\"act-form-title\")}</Modal.Header>\n          <Modal.Content >\n            <Grid>\n              <Grid.Row className = \"ml-0\">\n                <Grid.Column width = {8}>\n                  <TextField\n                    id=\"outlined-select-cc\"\n                    label={t(\"cc-label\")}\n                    select\n                    fullWidth\n                    // className=\"mr-4 ml-4 mt-2 w-25\"\n                    variant = \"outlined\"\n                    defaultValue={\n                      this.props.currentCropCycles[0]\n                        ? this.props.currentCropCycles[0]._id\n                        : \"\"\n                    }\n                    helperText={t(\"cc-helper\")}\n                    onChange={this.handleCropCycleChange}\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                  >\n                    {this.props.currentCropCycles ? (\n                      this.props.currentCropCycles.map((option) => (\n                        <MenuItem key={option._id} value={option._id}>\n                          {this.props.userFarms &&\n                            this.props.userFarms.find(\n                              (farm) => option.farmId === farm._id\n                            ).farmName}\n                        </MenuItem>\n                      ))\n                    ) : (\n                      <MenuItem disabled>{t(\"empty-option\")}</MenuItem>\n                    )}\n                  </TextField>\n                </Grid.Column>\n                <Grid.Column width = {4}>\n                  <TextField\n                    id=\"outlined-select-activity\"\n                    label={t(\"activity-label\")}\n                    select\n                    fullWidth\n                    defaultValue = \"\"\n                    onChange={this.handleActivityChange}\n                    variant=\"outlined\"\n                    // className=\"mr-4 ml-4 mt-2 w-25\"\n                    helperText={t(\"activity-helper\")}\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                  >\n                    {activityList ? activityList.map((item) => (\n                      <MenuItem key = {item} value = {item}>\n                        {item}\n                      </MenuItem>\n                    ))                    \n                    : (\n                      <MenuItem disabled>{t(\"empty-option\")}</MenuItem>\n                    )}\n                  </TextField>\n                </Grid.Column>\n                <Grid.Column width = {4}>\n                  <TextField\n                    error\n                    id=\"logdate\"\n                    fullWidth\n                    label={t(\"log-date-label\")}\n                    type=\"date\"\n                    // className=\"mr-4 ml-4 mt-2 w-25\"\n                    // defaultValue={new Date()}\n                    variant=\"outlined\"\n                    error={this.state.dateError}\n                    shouldDisableDate={this.logDateValidation}\n                    onChange={this.handleLogDateChange}\n                    helperText={t(\"log-date-error\")}\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                  />\n                </Grid.Column>\n              </Grid.Row>\n              <Grid.Row className = \"ml-0\"> \n                <Grid.Column className = \"px-5\">\n                  {\n                    this.state.activityType === \"Land Preparation\" ? \n                      <ActivityOption />\n                    :\n\n                    this.state.activityType === \"Planting of seeds\" ?\n                      <PlantseedActivity />\n                    :\n                    this.state.activityType === \"Irrigation\" ? \n                      <IrrigationActivity/>\n                    :\n                    this.state.activityType === \"Crop Growth\" ? \n                      <CropGrowthActivity />\n                    :\n                    this.state.activityType === \"Fertilization\" ? \n                      <FertilizationActivity />\n                    :\n                    this.state.activityType === \"Harvesting\" ? \n                      <HarvestingActivity/>\n                    :\n                    this.state.activityType === \"Storage\" ? \n                      <StorageActivity/>\n                    :\n                    this.state.activityType === \"Transportation\" ? \n                      <TransportationActivity />\n                    :\n                    this.state.activityType === \"Marketing\" && <MarketingActivity/>\n                  }\n                </Grid.Column>\n              </Grid.Row>\n            </Grid>\n          </Modal.Content>\n          \n          <Modal.Actions>\n            <Button onClick={this.handleClose} color=\"gray\">\n              {t(\"cancel\")}\n            </Button>\n            <Button onClick={this.handleSubmit} color=\"green\">\n              {t(\"submit\")}\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default withTranslation(\"add-activity\")(AddActivityForm);\n\n\n\n{/* <Grid>\n              <Grid.Row>\n                <TextField\n                  id=\"outlined-select-activity\"\n                  label={t(\"activity-label\")}\n                  select\n                  defaultValue={\n                    this.props.activityTypes[0]\n                      ? this.props.activityTypes[0]._id\n                      : \"Select Activity\"\n                  }\n                  onChange={this.handleActivityChange}\n                  variant=\"outlined\"\n                  className=\"mr-4 ml-4 mt-2 w-25\"\n                  helperText={t(\"activity-helper\")}\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                >\n                  {this.props.activityTypes ? (\n                    this.props.activityTypes.map((option) => (\n                      <MenuItem key={option._id} value={option._id}>\n                        {option.name}\n                      </MenuItem>\n                    ))\n                  ) : (\n                    <MenuItem disabled>{t(\"empty-option\")}</MenuItem>\n                  )}\n                </TextField>\n                <TextField\n                  id=\"outlined-select-cc\"\n                  label={t(\"cc-label\")}\n                  select\n                  className=\"mr-4 ml-4 mt-2 w-25\"\n                  variant=\"outlined\"\n                  defaultValue={\n                    this.props.currentCropCycles[0]\n                      ? this.props.currentCropCycles[0]._id\n                      : \"\"\n                  }\n                  helperText={t(\"cc-helper\")}\n                  onChange={this.handleCropCycleChange}\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                >\n                  {this.props.currentCropCycles ? (\n                    this.props.currentCropCycles.map((option) => (\n                      <MenuItem key={option._id} value={option._id}>\n                        {this.props.userFarms &&\n                          this.props.userFarms.find(\n                            (farm) => option.farmId === farm._id\n                          ).farmName}\n                      </MenuItem>\n                    ))\n                  ) : (\n                    <MenuItem disabled>{t(\"empty-option\")}</MenuItem>\n                  )}\n                </TextField>\n              </Grid.Row>\n              <Grid.Row>\n                <TextField\n                  error\n                  id=\"logdate\"\n                  label={t(\"log-date-label\")}\n                  type=\"date\"\n                  className=\"mr-4 ml-4 mt-2 w-25\"\n                  // defaultValue={new Date()}\n                  variant=\"outlined\"\n                  error={this.state.dateError}\n                  shouldDisableDate={this.logDateValidation}\n                  onChange={this.handleLogDateChange}\n                  helperText={t(\"log-date-error\")}\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                />\n                <TextField\n                  id=\"outlined-description\"\n                  label={t(\"description-label\")}\n                  variant=\"outlined\"\n                  className=\"mr-4 ml-4 mt-2 w-25\"\n                  helperText={t(\"description-helper\")}\n                  onChange={this.handleDescriptionChange}\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                />\n                <FormControlLabel\n                  className=\"mr-4 ml-4 w-50\"\n                  control={\n                    <Checkbox\n                      checked={this.state.confirmed}\n                      onChange={this.handleCheckBoxChange}\n                      name=\"checked\"\n                    />\n                  }\n                  label={t(\"cc-form-checkbox\")}\n                />\n              </Grid.Row>\n              <Grid.Row>\n                {this.state.errorMsg ? (\n                  <p\n                    style={{\n                      position: \"absolute\",\n                      color: \"red\",\n                      left: \"25%\",\n                      right: \"25%\",\n                    }}\n                  >\n                    {\" \"}\n                    {t(\"ccuncheckederror\")}{\" \"}\n                  </p>\n                ) : (\n                  \"\"\n                )}\n              </Grid.Row>\n            </Grid> */}"]},"metadata":{},"sourceType":"module"}