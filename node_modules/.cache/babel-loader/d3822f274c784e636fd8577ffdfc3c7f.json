{"ast":null,"code":"import axios from \"axios\";\nimport { GET_WEATHER_DATA, GET_WEATHER_DATA_ERROE } from \"./types\"; // import prepareWeatherData from \"../../utils/prepareWeatherData\";\n// Get weatherData for dashboard\n// export const getWeatherDataDB = () => async (dispatch) => {\n//   try {\n//     // const sensor = sensors.filter((sensor) => sensor.deviceId === id)[0];\n//     // const lat = sensor.location.latitude;\n//     // const lon = sensor.location.longitude;\n//     const lat = 66;\n//     const lon = 55;\n//     const res = await axios.get(\n//       `https://y9yaxzh357.execute-api.us-east-1.amazonaws.com/api/weather?lat=${lat}&lng=${lon}`\n//     );\n//     dispatch({\n//       type: GET_WEATHER_DATA_DASHBOARD,\n//       // payload: res.data,\n//       payload: { weatherData_DB: res.data },\n//     });\n//   } catch (err) {\n//     dispatch({\n//       type: GET_WEATHER_DATA_DASHBOARD_ERROR,\n//       // payload: { msg: err.response.statusText, status: err.response.status },\n//       payload: { msg: err.response },\n//     });\n//   }\n// };\n// Get weatherData for public Data\n\nexport const getWeatherData = (lat, lon) => async dispatch => {\n  try {\n    // const lat = 66;\n    // const lon = 55;\n    // https://y9yaxzh357.execute-api.us-east-1.amazonaws.com/api/weather?lat=${lat}&lng=${lon}\n    // http://localhost:5001/\n    // http://localhost:5001/weather/${lat}&${lon}\n    // const res = await axios.get(\n    //   `https://y9yaxzh357.execute-api.us-east-1.amazonaws.com/api/weather?lat=${lat}&lng=${lon}`\n    // );\n    const res = await axios.get(`${process.env.REACT_APP_WEATHER_API}?lat=${lat}&lng=${lon}`); //console.log(\"---////---Weather Data----/////------\");\n    //console.log(res);\n\n    dispatch({\n      type: GET_WEATHER_DATA,\n      payload: res.data // payload: { weatherData_sensor: res.data },\n\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_WEATHER_DATA_ERROE,\n      payload: err.response // payload: { msg: err.response.statusText, status: err.response.status },\n\n    });\n  }\n};","map":{"version":3,"sources":["/Users/manish/Desktop/sensegrass/banao_lg/sensegrass/src/actions/weather.js"],"names":["axios","GET_WEATHER_DATA","GET_WEATHER_DATA_ERROE","getWeatherData","lat","lon","dispatch","res","get","process","env","REACT_APP_WEATHER_API","type","payload","data","err","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,gBAAT,EAA2BC,sBAA3B,QAAyD,SAAzD,C,CACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,OAAO,MAAMC,cAAc,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc,MAAOC,QAAP,IAAoB;AAC9D,MAAI;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAMC,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAN,CACf,GAAEC,OAAO,CAACC,GAAR,CAAYC,qBAAsB,QAAOP,GAAI,QAAOC,GAAI,EAD3C,CAAlB,CATE,CAYA;AACA;;AACFC,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEX,gBADC;AAEPY,MAAAA,OAAO,EAAEN,GAAG,CAACO,IAFN,CAGP;;AAHO,KAAD,CAAR;AAKD,GAnBD,CAmBE,OAAOC,GAAP,EAAY;AACZT,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEV,sBADC;AAEPW,MAAAA,OAAO,EAAEE,GAAG,CAACC,QAFN,CAGP;;AAHO,KAAD,CAAR;AAKD;AACF,CA3BM","sourcesContent":["import axios from \"axios\";\n\nimport { GET_WEATHER_DATA, GET_WEATHER_DATA_ERROE } from \"./types\";\n// import prepareWeatherData from \"../../utils/prepareWeatherData\";\n\n// Get weatherData for dashboard\n// export const getWeatherDataDB = () => async (dispatch) => {\n//   try {\n//     // const sensor = sensors.filter((sensor) => sensor.deviceId === id)[0];\n//     // const lat = sensor.location.latitude;\n//     // const lon = sensor.location.longitude;\n//     const lat = 66;\n//     const lon = 55;\n//     const res = await axios.get(\n//       `https://y9yaxzh357.execute-api.us-east-1.amazonaws.com/api/weather?lat=${lat}&lng=${lon}`\n//     );\n\n//     dispatch({\n//       type: GET_WEATHER_DATA_DASHBOARD,\n//       // payload: res.data,\n//       payload: { weatherData_DB: res.data },\n//     });\n//   } catch (err) {\n//     dispatch({\n//       type: GET_WEATHER_DATA_DASHBOARD_ERROR,\n//       // payload: { msg: err.response.statusText, status: err.response.status },\n//       payload: { msg: err.response },\n//     });\n//   }\n// };\n\n// Get weatherData for public Data\nexport const getWeatherData = (lat, lon) => async (dispatch) => {\n  try {\n    // const lat = 66;\n    // const lon = 55;\n    // https://y9yaxzh357.execute-api.us-east-1.amazonaws.com/api/weather?lat=${lat}&lng=${lon}\n    // http://localhost:5001/\n    // http://localhost:5001/weather/${lat}&${lon}\n    // const res = await axios.get(\n    //   `https://y9yaxzh357.execute-api.us-east-1.amazonaws.com/api/weather?lat=${lat}&lng=${lon}`\n    // );\n    const res = await axios.get(\n      `${process.env.REACT_APP_WEATHER_API}?lat=${lat}&lng=${lon}`\n    );\n      //console.log(\"---////---Weather Data----/////------\");\n      //console.log(res);\n    dispatch({\n      type: GET_WEATHER_DATA,\n      payload: res.data,\n      // payload: { weatherData_sensor: res.data },\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_WEATHER_DATA_ERROE,\n      payload: err.response,\n      // payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}